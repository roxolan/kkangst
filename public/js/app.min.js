!function(){"use strict";function e(e,t){e.when("/",{templateUrl:"../html/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/about",{templateUrl:"../html/common/views/genericText.view.html",controller:"aboutCtrl",controllerAs:"vm"}).when("/course/:courseid",{templateUrl:"../html/courseDetail/courseDetail.view.html",controller:"courseDetailCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}angular.module("kkangst",["ngRoute","ngSanitize","ui.bootstrap"]);var t=function(){var e=this;e.author="Вітя Котусенко",e.year=1974};angular.module("kkangst").config(["$routeProvider","$locationProvider",e]).controller("mainCtrl",t)}(),function(){"use strict";function e(e){var t=function(){return e.get("/api/courses")},r=function(t){return e.get("/api/courses/"+t)},n=function(t,r){return e.post("/api/courses/"+t+"/reviews",r)};return{getCourses:t,courseById:r,addReviewById:n}}angular.module("kkangst").service("kkangstData",e),e.$inject=["$http"]}(),function(){"use strict";function e(){return function(e){var t=e.replace(/\n/g,"<br/>");return t}}angular.module("kkangst").filter("addHtmlLineBreaks",e)}(),function(){"use strict";function e(){return function(e){var r,n;return e&&t(e)?(e>1?(r=parseFloat(e).toFixed(1),n="km"):(r=parseInt(1e3*e,10),n="m"),r+n):"?"}}angular.module("kkangst").filter("formatDistance",e);var t=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}}(),function(){"use strict";function e(){var e=this;e.pageHeader={title:"Про LMS"},e.main={content:"LMS було створено для підтримки процесу навчання в kmbs. \n\nЦя система містить усе потрібне для організації навчання."}}angular.module("kkangst").controller("aboutCtrl",e)}(),function(){"use strict";$("#addReview").submit(function(e){return $(".alert.alert-danger").hide(),$("input#name").val()&&$("select#rating").val()&&$("textarea#review").val()?void 0:($(".alert.alert-danger").length?$(".alert.alert-danger").show():$(this).prepend('<div role="alert" class="alert alert-danger">All fields required. Validated by jQuery</div>'),!1)})}(),function(){"use strict";function e(e){var t=this;t.pageHeader={title:"LMS",strapline:"Оберіть курси, які вам потрібні"},t.sidebar={content:"Цей сервіс допоможе вам обрати потрібні шляхи навчання і самостійного вдосконалення"},t.message="Шукаємо курси...",e.getCourses().success(function(e){t.message=e.length>0?"":"Курсів не знайдено",t.courses=e}).error(function(e){t.message="Вибачте, щось пішло не так",console.log(e)})}angular.module("kkangst").controller("homeCtrl",e),e.$inject=["kkangstData"]}(),function(){"use strict";function e(e,t,r){var n=this;n.courseid=e.courseid,r.courseById(n.courseid).success(function(e){n.data={course:e},n.pageHeader={title:n.data.course.name}}).error(function(e){console.log(e)}),n.popupReviewForm=function(){var e=t.open({templateUrl:"../html/reviewModal/reviewModal.view.html",controller:"reviewModalCtrl as vm",resolve:{courseData:function(){return{courseid:n.courseid,courseName:n.data.course.name}}}});e.result.then(function(e){n.data.course.reviews.push(e)})}}angular.module("kkangst").controller("courseDetailCtrl",e),e.$inject=["$routeParams","$uibModal","kkangstData"]}(),function(){"use strict";function e(e,t,r){var n=this;n.courseData=r,n.onSubmit=function(){return n.formError="",n.formData.name&&n.formData.rating&&n.formData.reviewText?void n.doAddReview(n.courseData.courseid,n.formData):(n.formError="All fields required, please try again",!1)},n.doAddReview=function(e,r){return t.addReviewById(e,{author:r.name,rating:r.rating,reviewText:r.reviewText}).success(function(e){n.modal.close(e)}).error(function(){n.formError="Your review has not been saved, please try again"}),!1},n.modal={close:function(t){e.close(t)},cancel:function(){e.dismiss("cancel")}}}angular.module("kkangst").controller("reviewModalCtrl",e),e.$inject=["$uibModalInstance","kkangstData","courseData"]}(),function(){"use strict";function e(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"../html/directives/ratingStars/ratingStars.template.html"}}angular.module("kkangst").directive("ratingStars",e)}(),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"../html/directives/footerGeneric/footerGeneric.template.html"}}angular.module("kkangst").directive("footerGeneric",e)}(),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"../html/directives/navigation/navigation.template.html"}}angular.module("kkangst").directive("navigation",e)}(),function(){"use strict";function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"../html/directives/pageHeader/pageHeader.template.html"}}angular.module("kkangst").directive("pageHeader",e)}();